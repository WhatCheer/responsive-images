{"name":"Responsive-Images","body":"# What is this?\r\n\r\nThis repository holds What Cheer's spin on the JavaScript solution to the [responsive](http://www.bram.us/2012/03/01/the-slow-elephant-in-the-responsive-images-room/) [images](http://blog.cloudfour.com/the-real-conflict-behind-picture-and-srcset/) [problem](http://www.alistapart.com/articles/responsive-images-and-web-standards-at-the-turning-point/).\r\n\r\nOur JavaScript follows the existing pattern of storing the sizes in DOM attributes, similar to projects like [HiSRC](https://github.com/teleject/hisrc), but with the twist of having only two attributes.\r\n\r\nWe have used this code in production but it is still a little wobbly, so YMMV.\r\n\r\n# How do I use it?\r\n\r\nThis is a full client side/markup solution, so you'd better be able to edit all your HTML. If you can't, or need something a little more automatic, perhaps [Adaptive Images](http://adaptive-images.com/).\r\n\r\n## The JavaScript\r\n\r\nThis library has no dependencies, so you can just drop in <tt>responsive-images.min.js</tt> and then call <tt>WhatCheer.Responsive.updateImages</tt> whenever you need to.  Here's an example:\r\n\r\n```html\r\n<script src=\"responsive-images.min.js\"></script>\r\n<script>\r\n\twindow.onresize = WhatCheer.Responsive.updateImages;\r\n\tdocument.body.onload = WhatCheer.Responsive.updateImages;\r\n</script>\r\n```\r\n\r\nYou may find it better to de-bounce your <tt>window.onresize</tt> calls a bit.  The code to prevent multiple requests for image assets does not exist, so it's your responsibility, if you care.\r\n\r\n```html\r\n<script>\r\n\t( function () {\r\n\t\tWhatCheer.Responsive.updateImages();\r\n\t\tvar resizeDebounce = null;\r\n\t\twindow.onresize = function () {\r\n\t\t\twindow.clearTimeout( resizeDebounce );\r\n\t\t\tresizeDebounce = window.setTimeout( WhatCheer.Responsive.updateImages, 150 );\r\n\t\t};\r\n\t} );\r\n</script>\r\n```\r\n\r\n## The Markup\r\n\r\nYour HTML communicates to the script through two attributes, <tt>data-format</tt> and <tt>data-breaks</tt>.\r\n\r\n### data-format\r\n\r\nThis attribute communicates the format of the path for image versions.  We assume you keep all of your files together in one place and have a reasonable, consistent naming scheme.\r\n\r\nIn the path format string any instances of the string <tt>{{s}}</tt> will be replaced with the breakpoint name to create the final path for a file.\r\n\r\n```html\r\n<img data-format=\"images/{{s}}.png\" />\r\n```\r\n\r\n### data-breaks\r\n\r\nThis attribute specifies the width-based breakpoints for images.  These breakpoints are given in pixel values, with a semicolon <tt>;</tt> delimeter.  They should proceed from largest to smallest.\r\n\r\n```html\r\n<img data-breaks=\"900;600;400\" />\r\n```\r\n\r\nOptionally these breakpoints can have name strings, which are separated from the size value by a colon <tt>:</tt>.\r\n\r\n```html\r\n<img data-breaks=\"900;600:medium;400\" />\r\n```\r\n\r\n# Examples\r\n\r\n## Regular\r\n\r\n```html\r\n<!doctype html>\r\n<html>\r\n\t<head>\r\n\t\t<title>Responsive Images</title>\r\n\t</head>\r\n\t<body>\r\n\t\t<img src=\"images/400.jpg\" data-format=\"images/{s}.jpg\" data-breaks=\"900;600:medium;400\" />\r\n\t\t<script src=\"responsive-images.min.js\"></script>\r\n\t\t<script>\r\n\t\t\twindow.onresize = WhatCheer.Responsive.updateImages;\r\n\t\t\tdocument.body.onload = WhatCheer.Responsive.updateImages;\r\n\t\t</script>\r\n\t</body>\r\n</html>\r\n```\r\n\r\n## Weird Files All Over The Place\r\n\r\n```html\r\n<!doctype html>\r\n<html>\r\n\t<head>\r\n\t\t<title>Responsive Images</title>\r\n\t</head>\r\n\t<body>\r\n\t\t<img src=\"images/400.jpg\" data-format=\"{s}\" data-breaks=\"900:http://google.com/secret-files/900.jpg;600:http://loljk.s3.aws.com/medium.jpg;400:images/400.jpg\" />\r\n\t\t<script src=\"responsive-images.min.js\"></script>\r\n\t\t<script>\r\n\t\t\twindow.onresize = WhatCheer.Responsive.updateImages;\r\n\t\t\tdocument.body.onload = WhatCheer.Responsive.updateImages;\r\n\t\t</script>\r\n\t</body>\r\n</html>\r\n```\r\n\r\n# Contributing\r\n\r\nWe aren't perfect.  If you see a bug, please let us know via the issues tab!\r\n\r\n","tagline":"An experimental JavaScript solution to the responsive images problem.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}